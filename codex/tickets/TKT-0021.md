---
created: 2025-10-29
id: TKT-0021
owner: openai-assistant
priority: P1
status: In-Progress
title: Restore Discover create wave modal
---

## Context

> The Discover page's `Create Wave` CTA should open the modal overlay, but a recent redesign causes the main content to swap to the inline creation form instead. Need to restore the modal behavior without regressing the existing direct message modal or in-app handling.

## Plan

- [ ] Reintroduce the wave modal in `Waves` when running on web while keeping app behavior intact.
- [ ] Ensure the inline view is only used where appropriate and URL query strings still toggle modal visibility.
- [ ] Verify both `Create Wave` and `Create DM` buttons behave correctly on Discover.

## Acceptance

- [ ] Clicking `Create Wave` on Discover opens the modal overlay and leaves the list view visible.
- [ ] Closing/success from the modal clears the `create` query parameter and returns to the list.
- [ ] `Create DM` button continues to open its modal.
- [ ] `npm run lint`, `npm run type-check`, and targeted tests succeed when run.

## Links

- Primary PR: _(add when available)_
- Follow-ups: _(reference additional tickets or TODO items)_

## Log

- 2025-10-29T07:06:06Z – Created ticket and triaged regression scope.
- 2025-10-29T07:08:01Z – Wired `CreateWaveModal` back into `Waves` for web, keeping inline create for app, and ran `npm run lint`.
- 2025-10-29T07:10:05Z – Confirmed `npm run type-check` and `npm run test:cov:changed` pass (pre-existing console warnings only).
- 2025-10-29T07:15:11Z – Resolved nested link warning by making the card container a focusable div with keyboard/middle-click routing and re-ran checks.
- 2025-10-29T07:48:13Z – Restored outer `<Link>` semantics with internal button replacements, updated contributor avatars to use buttons, adjusted tests, and reran lint/type-check/tests.
- 2025-10-29T08:22:29Z – Added missing `"use client"` directive to `WaveItemDropped` per hook usage guidance.
